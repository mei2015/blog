(window.webpackJsonp=window.webpackJsonp||[]).push([[0,11,12,13,14,15,16],{175:function(t,n,e){"use strict";n.a=function(t){var title=t.title,n=t.desc,desc=void 0===n?"令狐少侠的个人空间":n,e=t.script,script=void 0===e?[]:e;return{head:{title:"".concat(title,"-").concat(desc),script:script}}}},176:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("p",[e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_035.png",alt:"img",loading:"lazy"}}),t._v(" "),e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_020.png",alt:"img",loading:"lazy"}})]),t._v(" "),e("h1",[t._v("JavaScript深入之闭包")]),t._v(" "),e("blockquote",[e("p",[t._v("JavaScript深入系列第八篇，介绍理论上的闭包和实践上的闭包，以及从作用域链的角度解析经典的闭包题。")])]),t._v(" "),e("h2",[t._v("定义")]),t._v(" "),e("p",[t._v("MDN 对闭包的定义为：")]),t._v(" "),e("blockquote",[e("p",[t._v("闭包是指那些能够访问自由变量的函数。")])]),t._v(" "),e("p",[t._v("那什么是自由变量呢？")]),t._v(" "),e("blockquote",[e("p",[t._v("自由变量是指在函数中使用的，但既不是函数参数也不是函数的局部变量的变量。")])]),t._v(" "),e("p",[t._v("由此，我们可以看出闭包共有两部分组成：")]),t._v(" "),e("blockquote",[e("p",[t._v("闭包 = 函数 + 函数能够访问的自由变量")])]),t._v(" "),e("p",[t._v("举个例子：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" a "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("1")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\n"),e("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),e("span",{staticClass:"token function"},[t._v("foo")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  console"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token function"},[t._v("log")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("a"),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),e("span",{staticClass:"token function"},[t._v("foo")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n")])]),t._v(" "),e("p",[t._v("foo 函数可以访问变量 a，但是 a 既不是 foo 函数的局部变量，也不是 foo 函数的参数，所以 a 就是自由变量。")]),t._v(" "),e("p",[t._v("那么，函数 foo + foo 函数访问的自由变量 a 不就是构成了一个闭包嘛……")]),t._v(" "),e("p",[t._v("还真是这样的！")]),t._v(" "),e("p",[t._v("所以在《JavaScript权威指南》中就讲到：从技术的角度讲，所有的JavaScript函数都是闭包。")]),t._v(" "),e("p",[t._v("咦，这怎么跟我们平时看到的讲到的闭包不一样呢！？")]),t._v(" "),e("p",[t._v("别着急，这是理论上的闭包，其实还有一个实践角度上的闭包，让我们看看汤姆大叔翻译的关于闭包的文章中的定义：")]),t._v(" "),e("p",[t._v("ECMAScript中，闭包指的是：")]),t._v(" "),e("ol",[e("li",[t._v("从理论角度：所有的函数。因为它们都在创建的时候就将上层上下文的数据保存起来了。哪怕是简单的全局变量也是如此，因为函数中访问全局变量就相当于是在访问自由变量，这个时候使用最外层的作用域。")]),t._v(" "),e("li",[t._v("从实践角度：以下函数才算是闭包：\n"),e("ol",[e("li",[t._v("即使创建它的上下文已经销毁，它仍然存在（比如，内部函数从父函数中返回）")]),t._v(" "),e("li",[t._v("在代码中引用了自由变量")])])])]),t._v(" "),e("p",[t._v("接下来就来讲讲实践上的闭包。")]),t._v(" "),e("h2",[t._v("分析")]),t._v(" "),e("p",[t._v("让我们先写个例子，例子依然是来自《JavaScript权威指南》，稍微做点改动：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" scope "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token string"},[t._v('"global scope"')]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),e("span",{staticClass:"token function"},[t._v("checkscope")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" scope "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token string"},[t._v('"local scope"')]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),e("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),e("span",{staticClass:"token function"},[t._v("f")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        "),e("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" scope"),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n    "),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n    "),e("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" f"),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\n"),e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" foo "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token function"},[t._v("checkscope")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token function"},[t._v("foo")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n")])]),t._v(" "),e("p",[t._v("首先我们要分析一下这段代码中执行上下文栈和执行上下文的变化情况。")]),t._v(" "),e("p",[t._v("另一个与这段代码相似的例子，在"),e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/8",target:"_blank"}},[t._v("《JavaScript深入之执行上下文》")]),t._v("中有着非常详细的分析。如果看不懂以下的执行过程，建议先阅读这篇文章。")]),t._v(" "),e("p",[t._v("这里直接给出简要的执行过程：")]),t._v(" "),e("ol",[e("li",[t._v("进入全局代码，创建全局执行上下文，全局执行上下文压入执行上下文栈")]),t._v(" "),e("li",[t._v("全局执行上下文初始化")]),t._v(" "),e("li",[t._v("执行 checkscope 函数，创建 checkscope 函数执行上下文，checkscope 执行上下文被压入执行上下文栈")]),t._v(" "),e("li",[t._v("checkscope 执行上下文初始化，创建变量对象、作用域链、this等")]),t._v(" "),e("li",[t._v("checkscope 函数执行完毕，checkscope 执行上下文从执行上下文栈中弹出")]),t._v(" "),e("li",[t._v("执行 f 函数，创建 f 函数执行上下文，f 执行上下文被压入执行上下文栈")]),t._v(" "),e("li",[t._v("f 执行上下文初始化，创建变量对象、作用域链、this等")]),t._v(" "),e("li",[t._v("f 函数执行完毕，f 函数上下文从执行上下文栈中弹出")])]),t._v(" "),e("p",[t._v("了解到这个过程，我们应该思考一个问题，那就是：")]),t._v(" "),e("p",[t._v("当 f 函数执行的时候，checkscope 函数上下文已经被销毁了啊(即从执行上下文栈中被弹出)，怎么还会读取到 checkscope 作用域下的 scope 值呢？")]),t._v(" "),e("p",[t._v("以上的代码，要是转换成 PHP，就会报错，因为在 PHP 中，f 函数只能读取到自己作用域和全局作用域里的值，所以读不到 checkscope 下的 scope 值。(这段我问的PHP同事……)")]),t._v(" "),e("p",[t._v("然而 JavaScript 却是可以的！")]),t._v(" "),e("p",[t._v("当我们了解了具体的执行过程后，我们知道 f 执行上下文维护了一个作用域链：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("fContext "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    Scope"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token constant"},[t._v("AO")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" checkscopeContext"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token constant"},[t._v("AO")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" globalContext"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token constant"},[t._v("VO")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("对的，就是因为这个作用域链，f 函数依然可以读取到 checkscopeContext.AO 的值，说明当 f 函数引用了 checkscopeContext.AO 中的值的时候，即使 checkscopeContext 被销毁了，但是 JavaScript 依然会让 checkscopeContext.AO 活在内存中，f 函数依然可以通过 f 函数的作用域链找到它，正是因为 JavaScript 做到了这一点，从而实现了闭包这个概念。")]),t._v(" "),e("p",[t._v("所以，让我们再看一遍实践角度上闭包的定义：")]),t._v(" "),e("ol",[e("li",[t._v("即使创建它的上下文已经销毁，它仍然存在（比如，内部函数从父函数中返回）")]),t._v(" "),e("li",[t._v("在代码中引用了自由变量")])]),t._v(" "),e("p",[t._v("在这里再补充一个《JavaScript权威指南》英文原版对闭包的定义:")]),t._v(" "),e("blockquote",[e("p",[t._v("This combination of a function object and a scope (a set of variable bindings) in which the function’s variables are resolved is called a closure in the computer science literature.")])]),t._v(" "),e("p",[t._v("闭包在计算机科学中也只是一个普通的概念，大家不要去想得太复杂。")]),t._v(" "),e("h2",[t._v("必刷题")]),t._v(" "),e("p",[t._v("接下来，看这道刷题必刷，面试必考的闭包题：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" data "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\n"),e("span",{staticClass:"token keyword"},[t._v("for")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" i "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" i "),e("span",{staticClass:"token operator"},[t._v("<")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("3")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" i"),e("span",{staticClass:"token operator"},[t._v("++")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  data"),e("span",{staticClass:"token punctuation"},[t._v("[")]),t._v("i"),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v(" "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    console"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token function"},[t._v("log")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("i"),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n  "),e("span",{staticClass:"token punctuation"},[t._v("}")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("1")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("2")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n")])]),t._v(" "),e("p",[t._v("答案是都是 3，让我们分析一下原因：")]),t._v(" "),e("p",[t._v("当执行到 data[0] 函数之前，此时全局上下文的 VO 为：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("globalContext "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),e("span",{staticClass:"token constant"},[t._v("VO")]),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        data"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token operator"},[t._v("...")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n        i"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("3")]),t._v("\n    "),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("当执行 data[0] 函数的时候，data[0] 函数的作用域链为：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("data"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("Context "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    Scope"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token constant"},[t._v("AO")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" globalContext"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token constant"},[t._v("VO")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("data[0]Context 的 AO 并没有 i 值，所以会从 globalContext.VO 中查找，i 为 3，所以打印的结果就是 3。")]),t._v(" "),e("p",[t._v("data[1] 和 data[2] 是一样的道理。")]),t._v(" "),e("p",[t._v("所以让我们改成闭包看看：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" data "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n\n"),e("span",{staticClass:"token keyword"},[t._v("for")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token keyword"},[t._v("var")]),t._v(" i "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" i "),e("span",{staticClass:"token operator"},[t._v("<")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("3")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v(" i"),e("span",{staticClass:"token operator"},[t._v("++")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n  data"),e("span",{staticClass:"token punctuation"},[t._v("[")]),t._v("i"),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v(" "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token keyword"},[t._v("function")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token parameter"},[t._v("i")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        "),e("span",{staticClass:"token keyword"},[t._v("return")]),t._v(" "),e("span",{staticClass:"token keyword"},[t._v("function")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n            console"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token function"},[t._v("log")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("i"),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n        "),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n  "),e("span",{staticClass:"token punctuation"},[t._v("}")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),t._v("i"),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("1")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\ndata"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("2")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v("(")]),e("span",{staticClass:"token punctuation"},[t._v(")")]),e("span",{staticClass:"token punctuation"},[t._v(";")]),t._v("\n")])]),t._v(" "),e("p",[t._v("当执行到 data[0] 函数之前，此时全局上下文的 VO 为：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("globalContext "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),e("span",{staticClass:"token constant"},[t._v("VO")]),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        data"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token operator"},[t._v("...")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n        i"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("3")]),t._v("\n    "),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("跟没改之前一模一样。")]),t._v(" "),e("p",[t._v("当执行 data[0] 函数的时候，data[0] 函数的作用域链发生了改变：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("data"),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("Context "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    Scope"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("[")]),e("span",{staticClass:"token constant"},[t._v("AO")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v(" 匿名函数Context"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token constant"},[t._v("AO")]),t._v(" globalContext"),e("span",{staticClass:"token punctuation"},[t._v(".")]),e("span",{staticClass:"token constant"},[t._v("VO")]),e("span",{staticClass:"token punctuation"},[t._v("]")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("匿名函数执行上下文的 AO 为：")]),t._v(" "),e("pre",{staticClass:"language-js"},[e("code",{staticClass:"language-js"},[t._v("匿名函数Context "),e("span",{staticClass:"token operator"},[t._v("=")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n    "),e("span",{staticClass:"token constant"},[t._v("AO")]),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n        arguments"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v("{")]),t._v("\n            "),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("0")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n            length"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("1")]),t._v("\n        "),e("span",{staticClass:"token punctuation"},[t._v("}")]),e("span",{staticClass:"token punctuation"},[t._v(",")]),t._v("\n        i"),e("span",{staticClass:"token operator"},[t._v(":")]),t._v(" "),e("span",{staticClass:"token number"},[t._v("0")]),t._v("\n    "),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n"),e("span",{staticClass:"token punctuation"},[t._v("}")]),t._v("\n")])]),t._v(" "),e("p",[t._v("data[0]Context 的 AO 并没有 i 值，所以会沿着作用域链从匿名函数 Context.AO 中查找，这时候就会找 i 为 0，找到了就不会往 globalContext.VO 中查找了，即使 globalContext.VO 也有 i 的值(值为3)，所以打印的结果就是 0。")]),t._v(" "),e("p",[t._v("data[1] 和 data[2] 是一样的道理。")]),t._v(" "),e("h2",[t._v("下一篇文章")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/10",target:"_blank"}},[t._v("JavaScript深入之参数按值传递")])]),t._v(" "),e("h2",[t._v("相关链接")]),t._v(" "),e("p",[t._v("如果想了解执行上下文的具体变化，不妨循序渐进，阅读这六篇：")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/3",target:"_blank"}},[t._v("《JavaScript深入之词法作用域和动态作用域》")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/4",target:"_blank"}},[t._v("《JavaScript深入之执行上下文栈》")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/5",target:"_blank"}},[t._v("《JavaScript深入之变量对象》")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/6",target:"_blank"}},[t._v("《JavaScript深入之作用域链》")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/7",target:"_blank"}},[t._v("《JavaScript深入之从ECMAScript规范解读this》")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog/issues/8",target:"_blank"}},[t._v("《JavaScript深入之执行上下文》")])]),t._v(" "),e("h2",[t._v("深入系列")]),t._v(" "),e("p",[t._v("JavaScript深入系列目录地址："),e("a",{attrs:{href:"https://github.com/mqyqingfeng/Blog",target:"_blank"}},[t._v("https://github.com/mqyqingfeng/Blog")]),t._v("。")]),t._v(" "),e("p",[t._v("JavaScript深入系列预计写十五篇左右，旨在帮大家捋顺JavaScript底层知识，重点讲解如原型、作用域、执行上下文、变量对象、this、闭包、按值传递、call、apply、bind、new、继承等难点概念。")]),t._v(" "),e("p",[t._v("如果有错误或者不严谨的地方，请务必给予指正，十分感谢。如果喜欢或者有所启发，欢迎star，对作者也是一种鼓励。")])])}]};t.exports={attributes:{name:"jQuery",title:"JavaScript深入之闭包",time:"2020年4月26日",id:"bacon-ipsum",description:"JavaScript深入系列第八篇，介绍理论上的闭包和实践上的闭包，以及从作用域链的角度解析经典的闭包题。",type:"reprint",author:"G1thu7",from:"WgpSec狼组安全团队",status:0},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\20200225我的.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},177:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("p",[t._v("The "),e("abbr",{attrs:{title:"Hyper Text Markup Language"}},[t._v("HTML")]),t._v(" specification\nis maintained by the "),e("abbr",{attrs:{title:"World Wide Web Consortium"}},[t._v("W3C")]),t._v(".")]),t._v(" "),e("h1",{attrs:{id:"h"}},[t._v("123")]),t._v(" "),e("h1",[t._v("The "),e("abbr",{attrs:{title:"Hyper Text Markup Language"}},[t._v("HTML")]),t._v(" specification")]),t._v(" "),e("p",[t._v("is maintained by the "),e("abbr",{attrs:{title:"World Wide Web Consortium"}},[t._v("W3C")]),t._v(".")]),t._v(" "),e("p",[e("a",{attrs:{href:"#h"}},[t._v("123🎨")])])])}]};t.exports={attributes:{name:"测试",title:"测试",time:"2020年3月2日",id:"bacon-ipsum",description:"测试",status:0},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\test.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},178:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("p",[t._v("随着Vue3即将发布，许多人都在想“ Vue2与Vue3有何不同？”")]),t._v(" "),e("p",[t._v("尽管我们之前已经写过有关最大变化的文章，但实际上并没有真正深入地了解我们的代码将如何变化。因此，为了显示这些更改，我们将在Vue2和Vue3中构建一个简单的表单组件。")]),t._v(" "),e("p",[t._v("到本文结尾，您将了解Vue2和Vue3之间的主要编程差异，并逐步成为一名更好的开发人员。")]),t._v(" "),e("p",[t._v("如果您想知道如何构建第一个Vue3应用程序，请查阅我们初学者的Vue3 Alpha应用程序指南。")]),t._v(" "),e("p",[t._v("好吧-走吧！")]),t._v(" "),e("h1",[t._v("创建我们的模板")]),t._v(" "),e("p",[t._v("对于大多数组件，Vue2和Vue3中的代码将非常相似，甚至不完全相同。但是，Vue3支持Fragments，这意味着组件可以具有多个根节点。")]),t._v(" "),e("p",[t._v("在呈现列表中的组件以删除不必要的包装div元素时，这特别有用。但是，在这种情况下，我们将为两个版本的Form组件保留一个根节点。")]),t._v(" "),e("pre",{staticClass:"language-html"},[e("code",{pre:!0,attrs:{class:"language-html"}},[t._v("Vue2\n\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("form-element"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{ title }} "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("login"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      Submit\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n      Values: {{ username + ' ' + password }}\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),e("p",[t._v("唯一真正的区别是我们访问数据的方式。在Vue3中，我们的反应性数据都包装在反应性状态变量中-因此我们需要访问该状态变量以获取我们的值。")]),t._v(" "),e("pre",{staticClass:"language-html"},[e("code",{pre:!0,attrs:{class:"language-html"}},[t._v("Vue3\n\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("form-element"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{ state.title }} "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("state.username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Username"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("state.password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("login"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      Submit\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" \n      Values: {{ state.username + ' ' + state.password }}\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])}]};t.exports={attributes:{title:"Vue2 和 Vue3 创建相同组件的差异",time:"2020年5月1日",category:"Vue",description:"随着 Vue3 即将发布，许多人都在想“ Vue2与Vue3有何不同？”",cover:"https://gitee.com/chinesee/images/raw/master/img/img_035.png",type:"translate",author:"Matt Maribojoc",from:"LearnVue",from_url:"https://learnvue.co/2020/02/building-the-same-component-in-vue2-vs-vue3/"},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\vue2 和 vue3 创建相同组件的差异.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},179:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("h2",[t._v("一、创建代码仓库")]),t._v(" "),e("p",[t._v("为你的仓库取一个简短的名字，并设为公开，如果是私有仓库的话将访问不到图片。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_001.png",alt:"img",loading:"lazy"}})]),t._v(" "),e("h2",[t._v("二、上传你的图片")]),t._v(" "),e("p",[t._v("自定义文件夹用于分类图片，像管理你的代码一样，将图片 push 到仓库。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_008.png",alt:"img",loading:"lazy"}})]),t._v(" "),e("p",[t._v("在 VS Code 里面操作，这样既能预览图片，又能将简化 commit 和 push 步骤。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_009.png",alt:"img",loading:"lazy"}})]),t._v(" "),e("h2",[t._v("三、修改图片 URL")]),t._v(" "),e("p",[t._v("在仓库中找到你上传的图片。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://gitee.com/chinesee/images/raw/master/img/img_010.png",alt:"img",loading:"lazy"}})]),t._v(" "),e("p",[t._v("将 URL 中的 "),e("code",{pre:!0},[t._v("blob")]),t._v(" 改为 "),e("code",{pre:!0},[t._v("raw")]),t._v(" 就能在页面中引用这张图片了。")]),t._v(" "),e("pre",{staticClass:"language-html"},[e("code",{staticClass:"language-html"},[e("span",{staticClass:"token tag"},[e("span",{staticClass:"token tag"},[e("span",{staticClass:"token punctuation"},[t._v("<")]),t._v("img")]),t._v(" "),e("span",{staticClass:"token attr-name"},[t._v("src")]),e("span",{staticClass:"token attr-value"},[e("span",{staticClass:"token punctuation"},[t._v("=")]),e("span",{staticClass:"token punctuation"},[t._v('"')]),t._v("https://gitee.com/chinesee/images/raw/master/img/img_002.png"),e("span",{staticClass:"token punctuation"},[t._v('"')])]),t._v(" "),e("span",{staticClass:"token punctuation"},[t._v(">")])]),t._v("\n")])])])}]};t.exports={attributes:{title:"如何使用码云作为图床 🖼️",time:"2019年9月1日",last_edited_time:null,category:"Vue",description:"随着 Vue3 即将发布，许多人都在想“ Vue2与Vue3有何不同？”",cover:"https://gitee.com/chinesee/images/raw/master/img/img_008.png",type:"original",author:"令狐少侠"},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\如何使用码云作为图床.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},180:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("p",[t._v("@"),e("a",{attrs:{href:"%E7%9B%AE%E5%BD%95",target:"_blank"}},[t._v("toc")])]),t._v(" "),e("h1",[t._v("Markdown 语法简介")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"http://commonmark.org/help/",target:"_blank"}},[t._v("语法详解")])])]),t._v(" "),e("h2",[e("strong",[t._v("粗体")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("**粗体**\n__粗体__\n")])]),t._v(" "),e("h2",[e("em",[t._v("斜体")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("*斜体*\n_斜体_\n")])]),t._v(" "),e("h2",[t._v("标题")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("# 一级标题 #\n一级标题\n====\n## 二级标题 ##\n二级标题\n----\n### 三级标题 ###\n#### 四级标题 ####\n##### 五级标题 #####\n###### 六级标题 ######\n")])]),t._v(" "),e("h2",[t._v("分割线")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("***\n---\n")])]),t._v(" "),e("hr"),t._v(" "),e("h2",[t._v("^上^角~下~标")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("上角标 x^2^\n下角标 H~2~0\n")])]),t._v(" "),e("h2",[t._v("++下划线++ "),e("s",[t._v("中划线")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("++下划线++\n~~中划线~~\n")])]),t._v(" "),e("h2",[t._v("==标记==")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("==标记==\n")])]),t._v(" "),e("h2",[t._v("段落引用")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("> 一级\n>> 二级\n>>> 三级\n...\n")])]),t._v(" "),e("h2",[t._v("列表")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("有序列表\n1.\n2.\n3.\n...\n无序列表\n-\n-\n...\n")])]),t._v(" "),e("h2",[t._v("任务列表")]),t._v(" "),e("ul",[e("li",[t._v("[x] 已完成任务")]),t._v(" "),e("li",[t._v("[ ] 未完成任务")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("- [x] 已完成任务\n- [ ] 未完成任务\n")])]),t._v(" "),e("h2",[t._v("链接")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("[链接](www.baidu.com)\n![图片描述](http://www.image.com)\n")])]),t._v(" "),e("h2",[t._v("代码段落")]),t._v(" "),e("p",[t._v("``` type")]),t._v(" "),e("p",[t._v("代码段落")]),t._v(" "),e("p",[t._v("```")]),t._v(" "),e("p",[t._v("` 代码块 `")]),t._v(" "),e("pre",{staticClass:"language-c++"},[e("code",{pre:!0,attrs:{class:"language-c++"}},[t._v('int main()\n{\n    printf("hello world!");\n}\n')])]),t._v(" "),e("p",[e("code",{pre:!0},[t._v("code")])]),t._v(" "),e("h2",[t._v("表格(table)")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("| 标题1 | 标题2 | 标题3 |\n| :--  | :--: | ----: |\n| 左对齐 | 居中 | 右对齐 |\n| ---------------------- | ------------- | ----------------- |\n")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("标题1")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("标题2")]),t._v(" "),e("th",{staticStyle:{"text-align":"right"}},[t._v("标题3")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("左对齐")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("居中")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("右对齐")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("----------------------")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("-------------")]),t._v(" "),e("td",{staticStyle:{"text-align":"right"}},[t._v("-----------------")])])])]),t._v(" "),e("h2",[t._v("脚注(footnote)")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("hello[^hello]\n")])]),t._v(" "),e("p",[t._v("见底部脚注"),e("a",{attrs:{href:"%E4%B8%80%E4%B8%AA%E6%B3%A8%E8%84%9A",target:"_blank"}},[t._v("^hello")])]),t._v(" "),e("h2",[t._v("表情(emoji)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.webpagefx.com/tools/emoji-cheat-sheet/",target:"_blank"}},[t._v("参考网站: https://www.webpagefx.com/tools/emoji-cheat-sheet/")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v(":laughing:\n:blush:\n:smiley:\n:)\n...\n")])]),t._v(" "),e("p",[t._v(":laughing::blush::smiley::)")]),t._v(" "),e("h2",[t._v("$\\KaTeX$公式")]),t._v(" "),e("p",[t._v("我们可以渲染公式例如：$x_i + y_i = z_i$和$\\sum_{i=1}^n a_i=0$\n我们也可以单行渲染\n$$\\sum_{i=1}^n a_i=0$$\n具体可参照"),e("a",{attrs:{href:"http://www.intmath.com/cg5/katex-mathjax-comparison.php",target:"_blank"}},[t._v("katex文档")]),t._v("和"),e("a",{attrs:{href:"https://github.com/Khan/KaTeX/wiki/Function-Support-in-KaTeX",target:"_blank"}},[t._v("katex支持的函数")]),t._v("以及"),e("a",{attrs:{href:"https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference",target:"_blank"}},[t._v("latex文档")])]),t._v(" "),e("h2",[t._v("布局")]),t._v(" "),e("p",[t._v("::: hljs-left\n"),e("code",{pre:!0},[t._v("::: hljs-left")]),t._v(" "),e("code",{pre:!0},[t._v("居左")]),t._v(" "),e("code",{pre:!0},[t._v(":::")]),t._v("\n:::")]),t._v(" "),e("p",[t._v("::: hljs-center\n"),e("code",{pre:!0},[t._v("::: hljs-center")]),t._v(" "),e("code",{pre:!0},[t._v("居中")]),t._v(" "),e("code",{pre:!0},[t._v(":::")]),t._v("\n:::")]),t._v(" "),e("p",[t._v("::: hljs-right\n"),e("code",{pre:!0},[t._v("::: hljs-right")]),t._v(" "),e("code",{pre:!0},[t._v("居右")]),t._v(" "),e("code",{pre:!0},[t._v(":::")]),t._v("\n:::")]),t._v(" "),e("h2",[t._v("定义")]),t._v(" "),e("p",[t._v("术语一")]),t._v(" "),e("p",[t._v(":   定义一")]),t._v(" "),e("p",[t._v("包含有"),e("em",[t._v("行内标记")]),t._v("的术语二")]),t._v(" "),e("p",[t._v(":   定义二")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("    {一些定义二的文字或代码}\n\n定义二的第三段\n")])]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("术语一\n\n:   定义一\n\n包含有*行内标记*的术语二\n\n:   定义二\n\n        {一些定义二的文字或代码}\n\n    定义二的第三段\n\n")])]),t._v(" "),e("h2",[t._v("abbr")]),t._v(" "),e("p",[e("abbr",{attrs:{title:"Hyper Text Markup Language"}},[t._v("HTML")]),t._v(" 规范由 "),e("abbr",{attrs:{title:"World Wide Web Consortium"}},[t._v("W3C")]),t._v(" 维护")]),t._v(" "),e("pre",[e("code",{pre:!0},[t._v("*[HTML]: Hyper Text Markup Language\n*[W3C]:  World Wide Web Consortium\nHTML 规范由 W3C 维护\n")])])])}]};t.exports={attributes:{title:"测试目录导航",time:"2020年5月10日",category:"TOC",description:"测试目录导航",cover:"https://gitee.com/chinesee/images/raw/master/img/img_008.png",type:"original",author:"令狐少侠"},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\测试目录导航.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},181:function(t,n){const e={render:function(){this.$createElement;return this._self._c,this._m(0)},staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"frontmatter-markdown"},[e("h2",[t._v("为什么说是改变了")]),t._v(" "),e("p",[t._v("团队成立时间在2014年，可等我加入的时候已经是2016年。2年的时间内，其实已经让团队变的面目全非，与其说是“娱乐圈”更好。这里的娱乐圈是什么意思也不好再多说。")]),t._v(" "),e("p",[t._v("大概2016年中旬的时候，我向团队负责人提出想整改一下团队的整体风貌，使得摆脱掉娱乐圈的包袱。但是很不幸，当时的我们正在创业，没有办法去花时间在这上面，于是也不了了之。到了今年的2月份，整改团队这个想法才再次被我翻了出来。这一次，是真的需要去做实事，去行动，去改变了。")]),t._v(" "),e("p",[t._v("团队很小，成员只有十几个人。但麻雀虽小五脏俱全，团队成员多多少少也有各自的本领，但是这些本领还不足以去实现我们这个整改的目标。于是我跟团队负责人@Keac 担起了打头阵的责任。")]),t._v(" "),e("p",[t._v("我本职是渗透测试+安全开发，多多少少会点前后端的东西，创业的时候也自己研发过一两年关于安全行业的产品。Keac目前就职某乙方安全公司，他本身前端出身，后来又学了后端开发，现在又在安全岗位就职。于是我们两优先担起了打头阵的“重任”。")]),t._v(" "),e("p",[t._v("想在安全行业里打好基础是一件很不容易的事，正因为不容易，所以更不能三分钟热度去对待需要做的事。在三月初的时候，我们决定先从团队几年前废弃掉的“狼组信息化平台”入手。我们先是规划了一下整个平台的架构/设计/发展方向，随后便开始动手写代码了。毕竟是要整改，所以要在各个方面都刷新团队成员从以前到现在对于团队的认知。")]),t._v(" "),e("p",[t._v("早期的狼组信息化平台里只有很小儿科的功能，例如类似qq机器人上的货币，又或是记录团队成员的信息等等。这次改造我们首先将土的掉牙的UI进行大改，考虑到平台是需要给人更多的UI体验以及功能可用性的提升，我们优先使用了Antd Vue前端框架将UI进行了重写，目前正在内测的UI界面如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://ww1.sinaimg.cn/large/775017f8gy1ge7balhw8jj212z0bzmyq.jpg",alt:"微信图片_20200426174628.png",loading:"lazy"}})]),t._v(" "),e("p",[t._v("当然，这只是初版，目前已经有了更好的界面设计方案正在实施中。")]),t._v(" "),e("p",[t._v("万事开头难。我们这件整改的事难在哪？难在没有明确的方向感。是的，整改的方向同时意味着团队未来发展的方向，这令我们很头疼。再三思考后，我们选择面向社区为目前的安全行业从业者提供一个高质量的综合安全服务平台。")]),t._v(" "),e("p",[t._v("于是狼组信息化平台正式更名为：狼组安全服务平台。简称狼组安全平台。")]),t._v(" "),e("p",[t._v("这个名字其实是不尽人意的，后面全量上线的时候会考虑更改为一个更有辨识度的名字。但是从更名的那一刻开始，改变的路上我们已经在前进了...")]),t._v(" "),e("h2",[t._v("为什么选择这么一个改变的方向？")]),t._v(" "),e("p",[t._v("现在的安全行业乃至出现的安全圈都是非常的浮躁。行业是为了规定一个人的职业方向，而圈子则是为了将有理想，有能力的安全技术人员归拢到一起。")]),t._v(" "),e("p",[t._v("倒回到十年前，那时的安全技术最新颖的莫过于使用site语法之类的Google Hacking，那时候的安全技术人员还只是怀揣着让中国互联网变的更加安全的想法去做事的。可好景不长，行业毕竟是行业，鱼龙混杂的人也多，于是在近几年整个安全行业变的乌烟瘴气，到处都是招摇撞骗的拜师收徒，开培训班，组建小团体到处做坏事，挂黑页等等。这好像成为了一种荣誉感，又或者说是让大家知道某某某是个人们都崇拜的黑客。网络安全行业的本质就此落寞。")]),t._v(" "),e("p",[t._v("意识到这个问题后，我们选择的这个方向便有了意义。我们的官网有一句slogan：打造信息安全乌托邦。乌托邦是什么？乌托邦就是一个好地方，又或者说不轻易可以达到的地方...")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://ww1.sinaimg.cn/large/775017f8gy1ge7baybuvbj21350evaqv.jpg",alt:"微信图片_20200426174635.png",loading:"lazy"}})])])}]};t.exports={attributes:{name:"jQuery",title:"这一次.. 我们真的改变了",time:"2020年4月26日",id:"bacon-ipsum",description:"狼组安全团队。这几个字如果第一眼出现在搞安全的人眼里，一定会觉得这不过又是一个新生的“娱乐圈”小团队罢了。但殊不知，这个团队已经从创立到现在已有6年的时间...",cover:"http://ww1.sinaimg.cn/large/775017f8gy1ge7baybuvbj21350evaqv.jpg",type:"reprint",author:"G1thu7",from:"WgpSec狼组安全团队",from_url:"https://mp.weixin.qq.com/s?__biz=MzIyMjkzMzY4Ng==&mid=2247483720&idx=1&sn=751c49f2681ff9f1997fefe0cb7a7e10&chksm=e824a691df532f873637eee0909ad522318312e962318622260c22189c2b599d6df7d752c811&scene=126&sessionid=1587902328&key=3afabdf7cfda3d9e5d327df0c0516cdcbdcd788de1040920f3cc4021318d55f97c5509c207b28fcd9baf19220406e99ddadfac525adf4f70ea6e74fbfb94bc2466a0bc491b3c3eb119e6b0eb52673920&ascene=1&uin=NzEyNDA3MjA0&devicetype=Windows+10+x64&version=62090070&lang=zh_CN&exportkey=AzvNbiAU8zqrDBxd%2FtesKUI%3D&pass_ticket=Vjps0WnJiC1gtdZCm%2FJvCkmEarWfo%2FEuJprdPaodeSEC2mfPMTF7MyzV9L1KcDz2"},meta:{resourcePath:"F:\\projects\\blog-nuxt\\contents\\这一次，我们真的变了.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(t){return this.templateRender?this.templateRender():t("div","Rendering")},created:function(){this.templateRender=e.render,this.$options.staticRenderFns=e.staticRenderFns}}}}},190:function(t,n,e){var map={"./20200225我的.md":176,"./test.md":177,"./vue2 和 vue3 创建相同组件的差异.md":178,"./如何使用码云作为图床.md":179,"./测试目录导航.md":180,"./这一次，我们真的变了.md":181};function o(t){var n=c(t);return e(n)}function c(t){if(!e.o(map,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return map[t]}o.keys=function(){return Object.keys(map)},o.resolve=c,t.exports=o,o.id=190}}]);